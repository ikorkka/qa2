# Тестовое задание для frontend-разработчика

Задача - реализовать одностраничное приложение (SPA), в котором пользователь может зарегистрироваться и просмотреть личную информацию о себе.

Для простоты разработки данного приложения в виде backend-части в данном репозитории в директории backend представлен файл `app.js`. backend-часть дополнять и изменять `не нужно`. Процесс запуска api на вашей машине описан ниже.
Авторизация и регистрация на backend-части реализована через [JSON Web Token](https://ru.wikipedia.org/wiki/JSON_Web_Token).

## Требования
Дизайн: https://www.figma.com/file/GXDZfvh5j0BRoqfZpg6zwu/%D0%A2%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B5-%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5?node-id=0%3A1&t=1rySNtW0M2SAAMJW-1

Приложение должно состоять из следующих страниц:

1. `/login` - страница с формой входа. 

    На этой странице должна быть форма, которая позволяет пользователю ввести свой логин и пароль для авторизации. (6б)

    форма входа должна быть адаптивна под мобильные устройства (3б)

    Во время ожидания ответа от сервера, нужно отображать прелоадер (дизайн на ваше усмотрение) (2б)

    Если данные введены неправильно, должна отображаться ошибка с соответствующим сообщением из сервера. (2б)

    После успешной авторизации нужно редиректнуть пользователя на главную страницу (2б)


3. `/register` -  страница с формой регистрации. 

    На этой странице должна быть форма, которая позволяет пользователю ввести данные для регистрации нового аккаунта. (6б)

    форма регситрации должна быть адаптивна под мобильные устройсва (3б)

    Во время ожидания ответа от сервера, нужно отображать прелоадер (дизайн на ваше усмотрение) (2б)

    Если данные введены неправильно, должна отображаться ошибка с соответствующим сообщением из сервера. (2б)

    После успешной регистрации нужно редиректнуть пользователя на главную страницу (2б)


4. `/` - Главная страница с информацией о пользователе. 

    На этой странице должна отображаться информация о пользователе, включая его аватар, текст о себе и имя пользователя. (10б)

    Должна быть возможность редактирования этой информации. Если пользователь внес изменения (10б)

    Главная страница должна быть адаптивна под мобильные устройсва (6б)

    Во время ожидания ответа от сервера, нужно отображать прелоадер (дизайн на ваше усмотрение) (2б)

    Также необходимо предусмотреть обработку ошибок сервера. (2б)

## Запуск API

1. Убедитесь, что у вас стоит последняя node LTS версии. Ссылка для скачивания: https://nodejs.org/en/
2. В консоли открыть папку `backend`
3. Устанавливаем зависимости api - в консоли запускаем команду `npm install`
4. Запускаем api - в консоли запускаем команду `node app.js`

В результате в консоли получаем output:

```
Сервер с API стартовал по адресу http://localhost:8080
```

При выполнении запросов к api в консоли будут возникать логи, удобно для тестирования приложения.

## Запрос с jwt-токеном

Чтобы отправить запрос с токеном нужно указать заголовок `Authorization: Bearer ${токен пользователя}`

## Примечания

1. Реализацию frontend-части следует делать в директории frontend 
2. При работе с `React` следует использовать `React Router`.
3. Приложение должно быть разработанно на функциональных компонентах, с использованием `React Hooks`.
4. При перезапуске backend-части приложения список пользователей сбрасывается к стандартному состоянию!
---

## Описание endpoint'ов API

Ниже будут представлены все возможные endpoint'ы api.

Важные замечания:

- По умолчанию api запускается по адресу `http://localhost:8080`
- При перезапуске api пользователи сбрасываются в стандартное состояние
- Для теста api можно использовать `postman` или любую другую утилиту, которая умеет слать http-запросы

### `/login/` - авторизация пользователя

Данный эндпоинт принимает запросы на авторизацию пользователей.
Метод HTTP-запроса - `POST`

### Тело запроса (в виде json)

| Поле     |  Тип   | Обязательно | Описание           |
|----------| :----: | :---------: |--------------------|
| email    | String |      +      | email пользователя |
| password | String |      +      | Пароль             |

### Возможные ответы эндпоинта

#### 200 - успешная авторизация

| Поле  |  Тип   | Описание                     | Значение                    |
| ----- | :----: | ---------------------------- | --------------------------- |
| token | String | JWT-токен пользователя       | %сгенерированный jwt-токен% |
| error | String | Ошибка, если таковая имеется | null                        |

#### 401 - неправильные имя пользователя/пароль

| Поле  |  Тип   | Описание | Значение                               |
| ----- | :----: | -------- |----------------------------------------|
| token | String | Токен    | null                                   |
| error |  null  | Ошибка   | "Введите корректный логин или пароль." |

---

### `/register/` - регистрация пользователя

Данный эндпоинт принимает запросы на авторизацию пользователей.
Метод HTTP-запроса - `POST`

### Тело запроса (в виде json)

| Поле     |  Тип   | Обязательно | Описание           |
|----------| :----: | :---------: |--------------------|
| username | String |      +      | Имя пользователя   |
| email    | String |      +      | email пользователя |
| password | String |      +      | Пароль             |

### Возможные ответы эндпоинтa

#### 200 - успешная регистрация

| Поле    |  Тип   | Описание  | Значение                               |
|---------| :----: | --------- |----------------------------------------|
| message | String | Сообщение | "Пользователь успешно зарегистрирован" |
| token   | String | Сообщение | %сгенерированный jwt-токен%            |

### 401 - регистрация не удалась

| Поле    |  Тип   | Описание  | Значение                                          |
| ------- | :----: | --------- |---------------------------------------------------|
| message | String | Сообщение | "Пользователь с таким E-mail уже зарегистрирован" |
| message | String | Сообщение | "Некорректный адрес электронной почты!"           |
| message | String | Сообщение | "Слишком короткое имя"                            |
| message | String | Сообщение | "Слишком короткий пароль"                         |

---

### `/profile/` - Информация о пользователе

Данный эндпоинт возвращает информацию о пользователе, которая есть на сервере
Метод HTTP-запроса - `GET`

### Возможные ответы эндпоинтa

### 200 - успешное получение информации

| Поле     |   Тип   | Описание                                         | Значение           |
| -------- | :-----: | ------------------------------------------------ | ------------------ |
| id       | Integer | id пользователя                                  | %id пользователя%  |
| username | String  | Имя пользователя                                 | %имя пользователя% |
| avatar   | String  | http-ссылка на картинку с аватаркой пользователя | %avatar%           |
| about    | String  | Текст "о пользователе"                           | %текст в api%      |

### 401 - пользователь не авторизован

Если в заголовке не передавать jwt-токен, либо jwt-токен был просрочен - вернется ответ

### 400 - не удалось получить информацию

| Поле    |  Тип   | Описание  | Значение                                        |
| ------- | :----: | --------- | ----------------------------------------------- |
| message | String | Сообщение | "Не удалось получить информацию о пользователе" |

---

### `/profile/` - Редактирование профиля

Данный эндпоинт принимает запросы на авторизацию пользователей.
Метод HTTP-запроса - `PATCH`

### Тело запроса (в виде json)

| Поле     |  Тип   | Обязательно | Описание                  |
|----------| :----: |:-----------:|---------------------------|
| username | String |      -      | Имя пользователя          |
| email    | String |      -      | email пользователя        |
| about    | String |      -      | Информация о пользователе |
| avatar   | String |      -      | URL аватарки пользователя |

### Возможные ответы эндпоинтa

#### 200 - Профиль успешно обновлен

| Поле    |  Тип   | Описание  | Значение                      |
|---------| :----: | --------- |-------------------------------|
| message | String | Сообщение | "Профиль успешно обновлен"    |

### 401

| Поле    |  Тип   | Описание  | Значение                                          |
| ------- | :----: | --------- |---------------------------------------------------|
| message | String | Сообщение | "Пользователь с таким E-mail уже зарегистрирован" |
| message | String | Сообщение | "Некорректный адрес электронной почты!"           |
| message | String | Сообщение | "Слишком короткое имя"                            |

---

## Полезные ссылки

- https://reactjs.org/ - React
- https://reactrouter.com/ - React router
- https://react-hook-form.com/ - Библиотека для обработки форм
- https://reactjs.org/docs/hooks-reference.html - React Hooks API
- https://timeweb.cloud/tutorials/react/kak-ispolzovat-axios-v-react
- https://www.getpostman.com/ - Postman
- https://loading.io/css/ - Прелоадеры
